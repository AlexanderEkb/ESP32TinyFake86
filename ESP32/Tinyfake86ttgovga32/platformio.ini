; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
src_dir = fake86/

[env:esp-wrover-kit]
platform = espressif32
framework = espidf
board = esp-wrover-kit
lib_ldf_mode = off

board_build.f_cpu = 240000000L
board_build.f_flash = 40000000L

upload_port = COM4
upload_protocol = esptool

monitor_speed = 115200
monitor_raw = yes

; GDB Debugging
build_type = debug
build_unflags = -DUSB_SERIAL
debug_port = COM4
debug_tool = custom
debug_load_mode = manual
debug_server =
debug_init_cmds =
      target extended-remote $DEBUG_PORT
      $INIT_BREAK
      define pio_reset_run_target
      interrupt
      tbreak loop
      continue
      end
      define pio_restart_target
      echo Restart is undefined for now.
      end
debug_init_break =

build_flags =
 -w
 -Wall
 -s -O3
 -DSUPPORT_NTSC=1
 -DUSB_DUAL_SERIAL
 -DGDB_DEBUGGING
